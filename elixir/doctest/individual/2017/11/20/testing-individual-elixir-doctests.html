<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width initial-scale=1">

<meta property="og:title" content="Testing Individual Elixir Doctests">
<title>Testing Individual Elixir Doctests</title>
<meta property="og:description" content="Doctests: FTW!I’ve been working on new releases of a couple of my published Hexpackages recently, as well as some new packages that should be soon publishedf...">
<meta property="og:url" content="http://www.rumford.name/elixir/doctest/individual/2017/11/20/testing-individual-elixir-doctests.html">
<meta property="og:site_name" content="An Ostler in IT">
<meta property="og:locale" content="en_UK">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@ianrumford">
<meta name="twitter:creator" content="@ianrumford">
<meta name="twitter:title" content="Testing Individual Elixir Doctests">
<meta name="twitter:description" content="Doctests: FTW!I’ve been working on new releases of a couple of my published Hexpackages recently, as well as some new packages that should be soon publishedf...">
<meta name="twitter:url" content="http://www.rumford.name/elixir/doctest/individual/2017/11/20/testing-individual-elixir-doctests.html">

<meta name="keywords" content="IT Ostler Horses Courses">

<link rel="icon" href="/images/favicon.ico">
<link rel="stylesheet" href="/css/main.css">
<link rel="canonical" href="http://www.rumford.name/elixir/doctest/individual/2017/11/20/testing-individual-elixir-doctests.html">
<link rel="alternate" type="application/atom+xml" title="An Ostler in IT" href="http://www.rumford.name/feed.xml" />

<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script language="Javascript" type="text/javascript">
function search_google()
{
  var query = document.getElementById("google-search").value;
  window.open("http://google.com/search?q=" + query
      + "%20site:" + "http://www.rumford.name");
}
</script>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '', 'auto');
ga('send', 'pageview');

</script>


<script type='text/javascript'>
var blocklink = ['http://humanorightswatch.org','http://o-o-6-o-o.com','http://darodar.com','http://blackhatworth.com','http://hulfingtonpost.com','http://bestwebsitesawards.com','http://darodar.com','http://buttons-for-website.com','http://ilovevitaly.co','http://semalt.com','http://priceg.com','http://simple-share-buttons.com','http://googlsucks.com','http://4webmasters.org','http://aliexpress.com','http://addons.mozilla.org/en-US/firefox/addon/ilovevitaly/','http://free-share-buttons.com','http://buttons-for-your-website.com','http://theguardlan.com','http://buy-cheap-online.info','http://best-seo-offer.com','http://4webmasters.org','http://trafficmonetize.org','http://howtostopreferralspam.eu','http://ilovevitaly.com','http://sanjosestartups.com','http://free-social-buttons.com','http://best-seo-offer.com','http://guardlink.org','http://www.event-tracking.com','http://www3.free-social-buttons.com','http://www1.free-social-buttons.com','http://www2.free-social-buttons.com','http://websites-reviews.com','http://floating-share-buttons.com','http://satellite.maps.ilovevitaly.com','http://free-social-buttons.com','http://www.event-tracking.com','http://erot.co'];
for (var b = blocklink.length; b--;) {
  if (document.referrer.match(blocklink[b]))
    window.location = "http://www.google.com";
}
</script>



<link type="application/atom+xml" rel="alternate" href="http://www.rumford.name/atom.xml" title="An Ostler in IT" />
</head>


<body>

<div class="container">

  <header class="site-header">

  <div class="wrapper">

    <h1 class="site-title"><a href="/">An Ostler in IT</a></h1>
    <h3 class="site-meta">Horses for Courses</h3>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
        
        <a class="page-link" href="/">Home</a>
        
        
        
        <a class="page-link" href="/about/">About</a>
        
        
        
        <a class="page-link" href="/archives/">Archives</a>
        
        
        
        <a class="page-link" href="/categories/">Categories</a>
        
        
        
        <a class="page-link" href="/tags/">Tags</a>
        
        
        
        <a class="page-link" href="/guestbook/"></a>
        
        
        
        <a class="page-link" href="/feed.xml"></a>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
      </div>
    </nav>

  </div>

</header>


    

  <div class="page-content col-sm-8">
    <div class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 itemprop="name" class="post-title">Testing Individual Elixir Doctests</h1>
    <meta itemprop="keywords" content="" />
    <p class="post-meta">
    Posted in
    
    <a href="/categories/#elixir">elixir</a>, 
    
    <a href="/categories/#doctest">doctest</a>, 
    
    <a href="/categories/#individual">individual</a>
     
    
    <time itemprop="datePublished" datetime="2017-11-20">
    on Nov 20, 2017
    </time>
    </p>
  </header>

  <article class="post-content" itemprop="articleBody">
    <p><a id="org76e213e"></a></p>

<h1 id="doctests-ftw">Doctests: FTW!</h1>

<p>I’ve been working on new releases of a couple of my <a href="https://hex.pm/users/ianrumford">published</a> <a href="https://hex.pm/">Hex</a>
packages recently, as well as some new packages that should be soon published
fairly soon.</p>

<p>All of them have <a href="http://elixir-lang.github.io/getting-started/mix-otp/docs-tests-and-with.html">doctests</a>, sometimes a lot of them.</p>

<p>I think <a href="http://elixir-lang.github.io/getting-started/mix-otp/docs-tests-and-with.html">doctests</a> are great; I’m a fan.  “But there’s a problem”</p>

<!-- more -->

<h1 id="advocacy-spot-writing-doctests-is-a-good-habit">Advocacy Spot: Writing Doctests is a Good Habit</h1>

<p>My ritual when writing a new package for publication seems to 
have settled  on writing some <em>“bottom up”</em> prototype code, writing some
rough’n’ready <a href="https://hexdocs.pm/ex_unit/ExUnit.Case.html#test/3">tests</a> to flesh the code out a
bit, and
then moving to document the package using “top down”
<a href="https://hexdocs.pm/ex_unit/ExUnit.DocTest.html">doctests</a>.</p>

<p>I’ve found the discipline of writing <em>“top down”</em>
<strong>explain-through-doctests</strong> to convey what the
package and its functions do a good
discipline for ensuring the package makes sense, hangs together and
is both coherent and consistent.</p>

<p>Whilst writing doctests, I’ve had more than a few <em>“no, not like that, it needs to be like this”</em>
moments when I’ve realised the ideas and design that drove my
prototype were wrong and need to be reworked:  I’ve come to
accept that the <strong>explain-through-doctests</strong> style sometimes will lead to  a
not insignificant amount of rework, hopefully though leading to a
better package.</p>

<p>In the same vein, after writing the “obvious” tests, I’ve frequently
thought “hmm, that would be a useful feature” and would write a
quick doctest to try it out and see how the code behaves and adding
the feature if it turns out useful. So I’ve found
doctests also
make it easy to do a bit of <a href="https://en.wikipedia.org/wiki/Test-driven_development">test driven development</a>.</p>

<h1 id="doctests-whats-not-to-like">Doctests: what’s not to like?</h1>

<p>Nothing really.  Once you’ve gotten enough
<a href="https://daringfireball.net/projects/markdown/syntax">markdown</a> under your belt, and the knack of
how to embed <a href="http://elixir-lang.github.io/getting-started/mix-otp/docs-tests-and-with.html">code and tests</a>,
you can crack out the documentation pretty quickly: I find I can write
a doctest generally just as quick, and maybe even quicker, than tests
in a standalone test file.</p>

<p>The main problem I have with them is also their strength: they can
pack a large number of tests under the control of the test file that
calls the <a href="https://hexdocs.pm/ex_unit/ExUnit.DocTest.html">doctest</a> macro.  Using individual <a href="https://hexdocs.pm/ex_unit/ExUnit.Case.html#test/3">tests</a> in a test
file, I can “package” the tests exactly how I want, even down to just
having one test per file if that’s sensible.  But doctests are always
enabled and the only way to disable selectively one or more is to
comment them out. Alternatively you use the <em>:except</em> or <em>:only</em> options to
<a href="https://hexdocs.pm/ex_unit/ExUnit.DocTest.html">doctest</a> but they work at the function level, not the
individual tests.</p>

<p>This is usually not a problem until I have a good number of existing doctests
and am, say, adding new functions with doctests, or doing some other rework, and one or more
doctests fail requiring me to track the causes down.</p>

<p>On a development branch I run with print diagnostics enabled because
its still the easiest and most effective way of tracing through the
code (especially complicated and/or recursive code).  But when I’m running
lots of doctests, the volume of prints become hard to pick apart and
I can’t “see” just the ones for the failing test(s).</p>

<p>I could just write a standalone <a href="https://hexdocs.pm/ex_unit/ExUnit.Case.html#test/3">test</a> in a test file for the failing ones but
that’s a diversion: I want to end up with a full set of working doctests.</p>

<p>Previously I just commented stuff out leaving just the
new and/or failing ones. But that was both tedious and a bit silly,
especially as when I uncommented the commented tests something else could
(and often did) break.</p>

<p>Then I realised I already knew how to test specific, individual
doctests while leaving the others enabled.</p>

<p><a id="orgd22ae96"></a></p>

<h1 id="writing-the-real-module">Writing The Real Module</h1>

<p>To explain how I test <strong>individual</strong> tests, I’m going to have to set
the scene with a quick overview of how I write doctests “normally”
for a <em>real</em> module.</p>

<p>Lets assume I’ve prototyped my new module in <em>./lib/real_module.ex</em>, and have added the first doctest.</p>

<figure class="highlight"><pre><code class="language-elixir" data-lang="elixir"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre></td><td class="code"><pre><span class="k">defmodule</span> <span class="no">RealModule</span> <span class="k">do</span>
  <span class="nv">@moduledoc</span> <span class="err">~</span><span class="no">S</span><span class="sd">"""
  Real Module To Demonstrate Testing Individual Doctests 
  """</span>
  <span class="nv">@doc</span> <span class="err">~</span><span class="no">S</span><span class="sd">"""
  `add_xy/2` adds two integers together.

  ## Examples

      iex&gt; add_xy(39, 3)
      42

  """</span>
  <span class="k">def</span> <span class="n">add_xy</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="ow">when</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="ow">and</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
  <span class="k">end</span>
<span class="k">end</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p><a id="orgae0929e"></a></p>

<h1 id="running-the-real-doctests">Running The Real Doctests</h1>

<p>I now need a test file (<em>./test/real_doctest_test.exs</em>) to call
the <a href="https://hexdocs.pm/ex_unit/ExUnit.DocTest.html">doctest</a> macro with the module being tested (i.e. <strong>RealModule</strong>).</p>

<figure class="highlight"><pre><code class="language-elixir" data-lang="elixir"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5</pre></td><td class="code"><pre><span class="k">defmodule</span> <span class="no">RealDoctest</span> <span class="k">do</span>
  <span class="kn">use</span> <span class="no">ExUnit</span><span class="o">.</span><span class="no">Case</span><span class="p">,</span> <span class="ss">async:</span> <span class="no">true</span>
  <span class="kn">import</span> <span class="no">RealModule</span>
  <span class="n">doctest</span> <span class="no">RealModule</span>
<span class="k">end</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>I can now run the doctests using <a href="https://hexdocs.pm/mix/Mix.html">mix</a></p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>mix <span class="nb">test</span> ./test/real_doctest_test.exs<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>But having to rerun this command manually everytime I make a change to the
module gets old pretty quickly so I use <a href="https://launchpad.net/ubuntu/+source/inotify-tools">inotify-tools</a> and have the following
running in a terminal (bash) console:</p>

<figure class="highlight"><pre><code class="language-elixir" data-lang="elixir"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="n">while</span> <span class="n">inotifywait</span> <span class="o">-</span><span class="n">e</span> <span class="n">close_write</span> <span class="o">./</span><span class="n">lib</span><span class="o">/</span><span class="n">real_module</span><span class="o">.</span><span class="n">ex</span><span class="p">;</span> <span class="k">do</span>  <span class="n">mix</span> <span class="n">docs</span><span class="p">;</span> <span class="n">mix</span> <span class="n">test</span> <span class="o">./</span><span class="n">test</span><span class="o">/</span><span class="n">real_doctest_test</span><span class="o">.</span><span class="n">exs</span><span class="p">;</span> <span class="n">done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Now every time I save the module file, the docs are rebuilt and the doctests run automatically
in the console running next to my editor window. A quick refresh of the
browser tab to see the updated docs and I have all the feedback I need.</p>

<p><a id="org7b9d96e"></a></p>

<h1 id="writing-the-fake-module">Writing The Fake Module</h1>

<p>To test an individual doctest, I need a <em>fake</em> module that “impersonates” the <em>real</em>
one.</p>

<p>The <em>fake</em> module will need access to all the <em>real</em> module’s
functions:  the easiest way to do that is to
<a href="https://hexdocs.pm/elixir/Kernel.html#defdelegate/2">delegate</a> from <em>fake</em> to <em>real</em>.</p>

<figure class="highlight"><pre><code class="language-elixir" data-lang="elixir"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></td><td class="code"><pre><span class="k">defmodule</span> <span class="no">FakeModule</span> <span class="k">do</span>

  <span class="nv">@moduledoc</span> <span class="err">~</span><span class="no">S</span><span class="sd">"""
  Fake Module To Demonstrate Testing Individual Doctests 
  """</span>

  <span class="c1"># these vars will be used for args in the defdelegates below</span>
  <span class="nv">@args_vars</span> <span class="m">5</span> <span class="o">|&gt;</span> <span class="no">Macro</span><span class="o">.</span><span class="n">generate_arguments</span><span class="p">(</span><span class="bp">__MODULE__</span><span class="p">)</span>
  <span class="c1"># get the names and arities of the real module's function</span>
  <span class="nv">@funs</span> <span class="ss">:functions</span> <span class="o">|&gt;</span> <span class="no">RealModule</span><span class="o">.</span><span class="n">__info__</span>
  <span class="c1"># use unquote fragments to delegate to the real's module functions</span>
  <span class="n">for</span> <span class="p">{</span><span class="n">name</span><span class="p">,</span><span class="n">arity</span><span class="p">}</span> <span class="o">&lt;-</span> <span class="nv">@funs</span> <span class="k">do</span>
    <span class="k">defdelegate</span> <span class="kn">unquote</span><span class="p">(</span><span class="n">name</span><span class="p">)(</span><span class="n">unquote_splicing</span><span class="p">(</span><span class="no">Enum</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="nv">@args_vars</span><span class="p">,</span> <span class="n">arity</span><span class="p">))),</span> <span class="ss">to:</span> <span class="no">RealModule</span>
  <span class="k">end</span>

  <span class="nv">@doc</span> <span class="err">~</span><span class="no">S</span><span class="sd">"""
  I can add tests here one by one and see how the code behaves

      iex&gt; add_xy(-3, 45)
      42

      iex&gt; add_xy(-7, -35)
      42

  """</span>
  <span class="k">def</span> <span class="n">here_to_satisfy_mix</span> <span class="k">do</span>
    <span class="no">nil</span>
  <span class="k">end</span>
<span class="k">end</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Note the strange function <em>here_to_satisfy_mix</em>;  mix
will warn if there isn’t a function definition following the <em>@doc</em>.</p>

<blockquote>
  <p>There is nothing to stop you writing and testing completely new
functions in the fake module and then copy’n’paste into the real module.</p>
</blockquote>

<p><a id="org4e95205"></a></p>

<h1 id="compiling-the-fake-module">Compiling the Fake Module</h1>

<p><em>fake_module.ex</em> is a regular Elixir file 
and needs to be compiled but shouldn’t live in <em>./lib</em> as its
only used for test.</p>

<p>I could put the code in <em>./test_helper.exs</em> but I don’t like to clutter the
helper and prefer generally to put test-only <em>.ex</em> files in their own folder
e.g. <em>./test/lib</em>.  So the fake module file becomes  <em>./test/lib/fake_module.ex</em>.</p>

<p>To tell <em>mix</em> to compile the test-only <em>.ex</em> files requires a couple of
changes to  <em>mix.exs</em>.</p>

<p>First this line needs to be added to the
<em>project</em> function. Its tells mix where to find the <em>.ex</em> files and
calls a function (defined in mix.exs) called <em>elixirc_paths</em>, passing the mix environment.</p>

<figure class="highlight"><pre><code class="language-elixir" data-lang="elixir"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="ss">elixirc_paths:</span> <span class="n">elixirc_paths</span><span class="p">(</span><span class="no">Mix</span><span class="o">.</span><span class="n">env</span><span class="p">),</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>Next the <em>elixirc_paths</em> function needs to be defined:</p>

<figure class="highlight"><pre><code class="language-elixir" data-lang="elixir"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre><span class="k">defp</span> <span class="n">elixirc_paths</span><span class="p">(</span><span class="ss">:test</span><span class="p">),</span> <span class="k">do</span><span class="p">:</span> <span class="p">[</span><span class="sd">"</span><span class="s2">lib"</span><span class="p">,</span> <span class="sd">"</span><span class="s2">test/lib"</span><span class="p">]</span>
<span class="k">defp</span> <span class="n">elixirc_paths</span><span class="p">(</span><span class="n">_</span><span class="p">),</span>     <span class="k">do</span><span class="p">:</span> <span class="p">[</span><span class="sd">"</span><span class="s2">lib"</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p>So when running <em>mix test</em>, the mix env will be <strong>:test</strong> and mix will compile not only <em>./lib</em> but
also the <em>.ex</em> files in <em>./test/lib</em></p>

<p><a id="org72e8be8"></a></p>

<h1 id="running-the-fake-doctests">Running The Fake Doctests</h1>

<p>Finally, I’ll need a test file to run the <em>fake</em> module’s
doctests.</p>

<p>I will call this <em>./test/fake_doctest</em> i.e without the
“_test.exs” suffix to prevent it running automatically when a <em>mix test</em> is run.</p>

<p>The <em>fake</em> doctests can be run manually or automatically, just like
the <em>real</em> ones:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>mix <span class="nb">test</span> ./test/fake_doctest<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<figure class="highlight"><pre><code class="language-elixir" data-lang="elixir"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre><span class="n">while</span> <span class="n">inotifywait</span> <span class="o">-</span><span class="n">e</span> <span class="n">close_write</span> <span class="o">./</span><span class="n">test</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">fake_module</span><span class="o">.</span><span class="n">ex</span><span class="p">;</span> <span class="k">do</span>  <span class="n">mix</span> <span class="n">docs</span><span class="p">;</span> <span class="n">mix</span> <span class="n">test</span> <span class="o">./</span><span class="n">test</span><span class="o">/</span><span class="n">fake_doctest</span><span class="p">;</span> <span class="n">done</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

<p><a id="org090284e"></a></p>

<h1 id="final-words">Final Words</h1>

<p>Nothing special or original about any of this, its all standard, legal <a href="http://elixir-lang.org/">Elixir</a>, just need to ensure you understand what files need to live
where (e.g. <em>./test_lib</em>)</p>

<p>Eating my own dog food: I now have editor frames and <em>inotifywaits</em> running for both my real
and fake modules at the same time and find it really flexible and pain-free.</p>

<p><a id="orgcfd16b9"></a></p>

<h1 id="code-on-github">Code on Github</h1>

<p><a href="https://github.com/ianrumford/testing_individual_elixir_doctests">Code is on Github</a>.</p>

<p>BTW: There are a couple of scripts in <em>./bin</em> to run the <em>inotifywaits</em>.</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td><td class="code"><pre><span class="nb">cd</span> /tmp
git clone git@github.com:ianrumford/testing_individual_elixir_doctests.git
<span class="nb">cd </span>testing_individual_elixir_doctests
mix deps.get
mix <span class="nb">test
</span>mix <span class="nb">test</span> ./test/fake_doctest<span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>


  </article>
  <hr />
</div>


<section class="pager">
  <ul>
    
    <li class="previous"><a href="/elixir/metaprogramming/postwalk/2017/05/17/metaprogramming-without-macros.html" title="Metaprogramming Without Macros">&larr; Older</a></li>
    
    
    <li class="disabled"><a>Newer &rarr;</a>
    
  </ul>
</section>

<script src="/js/jquery-1.9.1.min.js"></script>
<script type="text/javascript">
$(function(){
  $(document).keydown(function(e) {
    if (e.target.nodeName.toUpperCase() != 'BODY') return;
    var url = false;
        if (e.which == 37 || e.which == 74) {  // Left arrow and J
            
        url = 'http://www.rumford.name/elixir/metaprogramming/postwalk/2017/05/17/metaprogramming-without-macros.html';
        
        }
        else if (e.which == 39 || e.which == 75) {  // Right arrow and K
            
        }
        if (url) {
            window.location = url;
        }
  });
})
</script>



<div id="disqus_thread"></div>

<script type="text/javascript">

  var disqus_developer = 1;

var disqus_shortname ='';
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>



    <section class="pager">
  
  
</section>

<script src="/js/jquery-1.9.1.min.js"></script>
<script type="text/javascript">
$(function(){
  $(document).keydown(function(e) {
    if (e.target.nodeName.toUpperCase() != 'BODY') return;
    var url = false;
        if (e.which == 37 || e.which == 74) {  // Left arrow and J
        
        }
        else if (e.which == 39 || e.which == 75) {  // Right arrow and K
            
        }
        if (url) {
            window.location = url;
        }
  });
})
</script>



  </div>
  <div class="col-sm-2">
<div class="sidebar-module about">
  <h4>About Me</h4>
  <img title="Whistlejacket" src="/images/whistlejacket-circle-128px-2.png" alt="Whistlejacket"/>
  <span>Ian Rumford's whisperings</span>
  <br />

  

  You can contact me via: <br />

  
  <a href="mailto:ian@rumford.name" title="mailto: ian@rumford.name"><i class="fa fa-envelope-square fa-3x"></i></a>&nbsp;
  
  
  <a href="https://github.com/ianrumford" title="GithubID: ianrumford"><i class="fa fa-github-square fa-3x"></i></a>&nbsp;
  
  
  <a href="https://twitter.com/ianrumford" title="TwitterID: ianrumford"><i class="fa fa-twitter-square fa-3x"></i></a>
  

  

</div>

<div class="sidebar-module">
  <h4>Site Search</h4>
  <form onsubmit="search_google()" >
    <input type="text" id="google-search" placeholder="Google search" />
    <input type="submit" name="sa" value="Go" />
  </form>
</div>


<div class="sidebar-module"> <!-- sidebar-module-inset">-->
  <h4>Copyright Notice</h4>

  

  <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">
    <img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png">
  </a>
  <br />
  <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Attribution-NonCommercial-ShareAlike</a>

  

</div>


<div class="sidebar-module">
  <h4>Recent Posts</h4>
  
  <li>
  <a href="/elixir/doctest/individual/2017/11/20/testing-individual-elixir-doctests.html" title="Testing Individual Elixir Doctests" rel="bookmark">Testing Individual Elixir Doctests</a>
  </li>
  
  <li>
  <a href="/elixir/metaprogramming/postwalk/2017/05/17/metaprogramming-without-macros.html" title="Metaprogramming Without Macros" rel="bookmark">Metaprogramming Without Macros</a>
  </li>
  
  <li>
  <a href="/elixir/siariwyd/callback/function/share/reuse/2016/11/17/siariwyd.html" title="Sharing and Reusing Elixir Callback Functions between Modules" rel="bookmark">Sharing and Reusing Elixir Callback Functions between Modules</a>
  </li>
  
  <li>
  <a href="/elixir/pattern/matching/runtime/polymorphism/2016/09/19/pattern-matching-to-polymorphism.html" title="Pattern Matching to Polymorphism - an Unexpected Journey" rel="bookmark">Pattern Matching to Polymorphism - an Unexpected Journey</a>
  </li>
  
  <li>
  <a href="/elixir/map/api/genserver/module/agent/state/2016/09/13/amlapio.html" title="Adding a Map API to a GenServer or Module with Agent-held State" rel="bookmark">Adding a Map API to a GenServer or Module with Agent-held State</a>
  </li>
  
</div>


<div class="sidebar-module">
  <h4>Tags</h4>
  
    <a href="/tags/#hello world" title="hello world" rel="1">hello world</a> &nbsp;
  
    <a href="/tags/#octopress" title="octopress" rel="1">octopress</a> &nbsp;
  
    <a href="/tags/#jekyll" title="jekyll" rel="1">jekyll</a> &nbsp;
  
    <a href="/tags/#blog" title="blog" rel="1">blog</a> &nbsp;
  
    <a href="/tags/#emacs" title="emacs" rel="2">emacs</a> &nbsp;
  
    <a href="/tags/#Ubuntu" title="Ubuntu" rel="1">Ubuntu</a> &nbsp;
  
    <a href="/tags/#precise" title="precise" rel="2">precise</a> &nbsp;
  
    <a href="/tags/#pangolin" title="pangolin" rel="1">pangolin</a> &nbsp;
  
    <a href="/tags/#12.04" title="12.04" rel="1">12.04</a> &nbsp;
  
    <a href="/tags/#clojure" title="clojure" rel="1">clojure</a> &nbsp;
  
    <a href="/tags/#leinginen" title="leinginen" rel="1">leinginen</a> &nbsp;
  
    <a href="/tags/#slime" title="slime" rel="1">slime</a> &nbsp;
  
    <a href="/tags/#swank" title="swank" rel="1">swank</a> &nbsp;
  
    <a href="/tags/#ubuntu" title="ubuntu" rel="1">ubuntu</a> &nbsp;
  
    <a href="/tags/#ruby" title="ruby" rel="1">ruby</a> &nbsp;
  
    <a href="/tags/#windows" title="windows" rel="1">windows</a> &nbsp;
  
    <a href="/tags/#ole" title="ole" rel="1">ole</a> &nbsp;
  
    <a href="/tags/#property" title="property" rel="1">property</a> &nbsp;
  
    <a href="/tags/#values" title="values" rel="1">values</a> &nbsp;
  
</div>


<div class="sidebar-module">
  <h4>Archives</h4>

  
  
  
  
  
  <li id="2017" > <a href="/archives/#2017">2017</a></li>
  
  
  
  
  
  
  
  
  
  <li id="2016" > <a href="/archives/#2016">2016</a></li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li id="2014" > <a href="/archives/#2014">2014</a></li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li id="2013" > <a href="/archives/#2013">2013</a></li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li id="2012" > <a href="/archives/#2012">2012</a></li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  

</div>


</div>



  

  <footer class="site-footer">

  <p>Copyright &copy; <a href="/">An Ostler in IT</a></p>
  <p>Powered by <a href="https://github.com/jekyll/jekyll">Jekyll</a> 
  on 
  
  <a href="https://github.com/">Github</a>
  
  | Theme <a href="https://github.com/yulijia/freshman21/">Freshman21</a> Design by <a href="http://yulijia.net">Lijia Yu</a>
  | Adapted by Ian Rumford  


  <div id="totop" style="position:fixed;bottom:150px;right:50px;cursor: pointer;">
    <a title="Back To Top"><img src="/images/topbutton.png"/></a>
  </div>

  <script src="/js/jquery-1.9.1.min.js"></script>
  <script src="/js/totop.js"></script>  



</footer>


</div>

</body>

</html>
